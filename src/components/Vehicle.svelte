<script>
  import { checkDetail, Detail } from "../store/stores";
  export let vehicle;
  const handleClick = () => {
    Detail.set({...vehicle})
  }
  let hoverOn = false
</script>

<div on:mouseover={() => hoverOn = true} on:mouseout={() => hoverOn = false} on:blur={() => {}} on:focus={() => {}} class='{vehicle.destroyed ? 'destroyed' : vehicle.status}-cont vehicle'>
  <article>
    <section>
      {#if vehicle.type === 'auto'}
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
        <rect width="32" height="32" rx="16" fill="#6BC7B7"/>
        <path d="M10.6666 14.9522L11.8095 11.7379H20.1904L21.3333 14.9522M20.1904 18.5236C19.8873 18.5236 19.5966 18.4108 19.3823 18.2098C19.168 18.0089 19.0476 17.7364 19.0476 17.4522C19.0476 17.1681 19.168 16.8955 19.3823 16.6946C19.5966 16.4937 19.8873 16.3808 20.1904 16.3808C20.4935 16.3808 20.7842 16.4937 20.9986 16.6946C21.2129 16.8955 21.3333 17.1681 21.3333 17.4522C21.3333 17.7364 21.2129 18.0089 20.9986 18.2098C20.7842 18.4108 20.4935 18.5236 20.1904 18.5236ZM11.8095 18.5236C11.5064 18.5236 11.2157 18.4108 11.0014 18.2098C10.787 18.0089 10.6666 17.7364 10.6666 17.4522C10.6666 17.1681 10.787 16.8955 11.0014 16.6946C11.2157 16.4937 11.5064 16.3808 11.8095 16.3808C12.1126 16.3808 12.4033 16.4937 12.6176 16.6946C12.8319 16.8955 12.9523 17.1681 12.9523 17.4522C12.9523 17.7364 12.8319 18.0089 12.6176 18.2098C12.4033 18.4108 12.1126 18.5236 11.8095 18.5236ZM21.2723 11.3808C21.12 10.9665 20.6933 10.6665 20.1904 10.6665H11.8095C11.3066 10.6665 10.88 10.9665 10.7276 11.3808L9.14282 15.6665V21.3808C9.14282 21.5702 9.22309 21.7519 9.36598 21.8859C9.50886 22.0198 9.70266 22.0951 9.90473 22.0951H10.6666C10.8687 22.0951 11.0625 22.0198 11.2054 21.8859C11.3483 21.7519 11.4285 21.5702 11.4285 21.3808V20.6665H20.5714V21.3808C20.5714 21.5702 20.6517 21.7519 20.7945 21.8859C20.9374 22.0198 21.1312 22.0951 21.3333 22.0951H22.0952C22.2973 22.0951 22.4911 22.0198 22.634 21.8859C22.7768 21.7519 22.8571 21.5702 22.8571 21.3808V15.6665L21.2723 11.3808Z" fill="white"/>
        </svg>
        {:else if vehicle.type === 'motorcycle'}
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
          <rect width="32" height="32" rx="16" fill="#6BC7B7"/>
          <path d="M10.1667 22C9.01389 22 8.03111 21.582 7.21833 20.746C6.40556 19.91 5.99945 18.8994 6 17.7143C6 16.5286 6.40639 15.5177 7.21917 14.6817C8.03194 13.8457 9.01444 13.428 10.1667 13.4286H19.8333L18.1667 11.7143H15.1667V10H18.1458C18.3681 10 18.58 10.0429 18.7817 10.1286C18.9833 10.2143 19.1603 10.3357 19.3125 10.4929L22.2083 13.4714C23.2917 13.5571 24.1944 14.0071 24.9167 14.8214C25.6389 15.6357 26 16.6 26 17.7143C26 18.9 25.5936 19.9109 24.7808 20.7469C23.9681 21.5829 22.9856 22.0006 21.8333 22C20.6806 22 19.6978 21.582 18.885 20.746C18.0722 19.91 17.6661 18.8994 17.6667 17.7143C17.6667 17.4571 17.6842 17.2034 17.7192 16.9531C17.7542 16.7029 17.82 16.4566 17.9167 16.2143L15.625 18.5714H14.25C14.0556 19.5714 13.5764 20.3929 12.8125 21.0357C12.0486 21.6786 11.1667 22 10.1667 22ZM21.8333 20.2857C22.5278 20.2857 23.1181 20.0357 23.6042 19.5357C24.0903 19.0357 24.3333 18.4286 24.3333 17.7143C24.3333 17 24.0903 16.3929 23.6042 15.8929C23.1181 15.3929 22.5278 15.1429 21.8333 15.1429C21.1389 15.1429 20.5486 15.3929 20.0625 15.8929C19.5764 16.3929 19.3333 17 19.3333 17.7143C19.3333 18.4286 19.5764 19.0357 20.0625 19.5357C20.5486 20.0357 21.1389 20.2857 21.8333 20.2857ZM10.1667 20.2857C10.6944 20.2857 11.1703 20.1286 11.5942 19.8143C12.0181 19.5 12.32 19.0857 12.5 18.5714H10.1667V16.8571H12.5C12.3194 16.3429 12.0175 15.9286 11.5942 15.6143C11.1708 15.3 10.695 15.1429 10.1667 15.1429C9.47222 15.1429 8.88194 15.3929 8.39583 15.8929C7.90972 16.3929 7.66667 17 7.66667 17.7143C7.66667 18.4286 7.90972 19.0357 8.39583 19.5357C8.88194 20.0357 9.47222 20.2857 10.1667 20.2857Z" fill="white"/>
        </svg>
      {/if}
      <div>
          <p class='name'>{vehicle.name}</p>
          <h4 class="status">{vehicle.status}</h4>
      </div>
    </section>
    <div class:hide={hoverOn}>
      {#if !vehicle.destroyed && vehicle.status === 'insured'} 
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
        <g clip-path="url(#clip0_18738_507)">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M15.1679 2.83668C15.6356 2.63855 16.1466 2.61273 16.6281 2.76288L16.8319 2.83668L25.1282 6.35908C25.5489 6.53767 25.916 6.84793 26.1869 7.25371C26.4578 7.65949 26.6213 8.14407 26.6583 8.65099L26.6666 8.8724V16.0688C26.6665 18.2432 26.148 20.3773 25.1657 22.2457C24.1834 24.1141 22.7737 25.6476 21.0855 26.6844L20.7703 26.8709L16.7952 29.1212C16.5763 29.2449 16.3372 29.3162 16.0929 29.3305C15.8486 29.3448 15.6043 29.3019 15.3753 29.2044L15.2047 29.1212L11.2295 26.8709C9.51175 25.8984 8.05773 24.4189 7.02096 22.5885C5.98419 20.758 5.40315 18.6447 5.33918 16.4714L5.33325 16.0688V8.8724C5.33326 8.36401 5.46081 7.86607 5.70105 7.43656C5.9413 7.00705 6.28436 6.66364 6.69029 6.4463L6.87162 6.35908L15.1679 2.83668ZM20.0687 11.4703L14.6192 17.6402L12.5238 15.2677C12.3014 15.0161 11.9998 14.8748 11.6854 14.875C11.371 14.8751 11.0696 15.0166 10.8473 15.2684C10.6251 15.5202 10.5003 15.8616 10.5004 16.2176C10.5005 16.5735 10.6255 16.9149 10.8479 17.1665L13.6971 20.3923C13.8182 20.5295 13.9619 20.6383 14.1201 20.7125C14.2783 20.7867 14.4479 20.8249 14.6192 20.8249C14.7904 20.8249 14.96 20.7867 15.1182 20.7125C15.2764 20.6383 15.4202 20.5295 15.5413 20.3923L21.7445 13.3677C21.8577 13.2439 21.948 13.0958 22.0101 12.9321C22.0722 12.7684 22.1049 12.5923 22.1063 12.4141C22.1077 12.236 22.0777 12.0593 22.0181 11.8943C21.9585 11.7294 21.8705 11.5796 21.7592 11.4536C21.6479 11.3276 21.5156 11.228 21.3699 11.1605C21.2243 11.0931 21.0682 11.0591 20.9108 11.0607C20.7535 11.0622 20.598 11.0992 20.4534 11.1695C20.3088 11.2399 20.178 11.3421 20.0687 11.4703Z" fill="#2FC0A7"/>
        </g>
        <defs>
          <clipPath id="clip0_18738_507">
            <rect width="32" height="32" fill="white"/>
          </clipPath>
        </defs>
      </svg>
        {:else if !vehicle.destroyed && vehicle.status === 'uninsured'}
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
          <g clip-path="url(#clip0_18738_449)">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M16.8319 2.83726L25.1282 6.35968C25.5801 6.55147 25.9696 6.89489 26.2445 7.34402C26.5194 7.79314 26.6666 8.32658 26.6666 8.87301V16.0695C26.6666 18.3123 26.115 20.5109 25.0736 22.4188C24.0322 24.3267 22.5421 25.8685 20.7703 26.8716L16.7952 29.1206C16.5483 29.2604 16.276 29.3332 15.9999 29.3332C15.7238 29.3332 15.4516 29.2604 15.2047 29.1206L11.2295 26.8702C9.45774 25.8672 7.96764 24.3253 6.92622 22.4174C5.8848 20.5095 5.33321 18.311 5.33325 16.0681V8.87435C5.33295 8.32769 5.4801 7.79396 5.75502 7.34457C6.02994 6.89518 6.41951 6.55156 6.87162 6.35968L15.1679 2.83726C15.7044 2.60959 16.2955 2.60959 16.8319 2.83726ZM15.9999 18.6781C15.6856 18.6781 15.3841 18.8195 15.1619 19.0711C14.9396 19.3228 14.8147 19.6641 14.8147 20.02C14.8147 20.3758 14.9396 20.7172 15.1619 20.9688C15.3841 21.2205 15.6856 21.3618 15.9999 21.3618C16.3142 21.3618 16.6157 21.2205 16.838 20.9688C17.0602 20.7172 17.1851 20.3758 17.1851 20.02C17.1851 19.6641 17.0602 19.3228 16.838 19.0711C16.6157 18.8195 16.3142 18.6781 15.9999 18.6781ZM15.9999 9.28496C15.7096 9.28501 15.4294 9.40567 15.2125 9.62408C14.9956 9.84248 14.857 10.1434 14.823 10.4698L14.8147 10.6268V15.9943C14.8151 16.3364 14.9307 16.6653 15.1381 16.914C15.3455 17.1627 15.6289 17.3124 15.9305 17.3324C16.232 17.3525 16.529 17.2414 16.7606 17.0219C16.9923 16.8023 17.1411 16.491 17.1768 16.1513L17.1851 15.9943V10.6268C17.1851 10.271 17.0602 9.92964 16.838 9.67799C16.6157 9.42634 16.3142 9.28496 15.9999 9.28496Z" fill="#E86B61"/>
          </g>
          <defs>
            <clipPath id="clip0_18738_449">
              <rect width="32" height="32" fill="white"/>
            </clipPath>
          </defs>
        </svg>
      {/if}
    </div>
  </article>
  <svg class="arrow" on:click={handleClick} on:keydown={() => {}} xmlns="http://www.w3.org/2000/svg" width="22" height="16" viewBox="0 0 22 16" fill="none">
    <path d="M13.6667 -1.17622e-06L21.6667 8L13.6667 16L11.8001 14.0667L16.5334 9.33333L0.333415 9.33333L0.333415 6.66666L16.5334 6.66667L11.8001 1.93333L13.6667 -1.17622e-06Z" fill="#379F8D"/>
  </svg>
</div>

<style>
  .vehicle{
    display: flex;
    align-items: center;
    border-radius: 16px;
  }
  .vehicle:hover{
    gap: 8px;
  }
  .vehicle article{
      border-radius: 16px;
      padding: 14px 10px 14px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: all .2s ease;
      line-height: normal;
      flex: 1;
  }
  .hide{
    opacity: 0;
    transition: all .2s ease;
  }
  .uninsured-cont .arrow path{
    fill: #D55D54;
  }
  .destroyed-cont .arrow path{
    fill: #779196;
  }
  .arrow{
    /* position: absolute; */
    width: 0px;
    /* z-index: -1; */
    transition: all .3s ease;
    cursor: pointer;
  }
  .vehicle:hover .arrow{
    z-index: 0;
    position: relative;
    width: 22px;
  }
  .vehicle section{
    gap: 11px;
    display: flex;
    align-items: center;
  }
  .name{
    color: #262B2A;
    font-family: 'SF UI Text';
    font-size: 16px;
    font-weight: 700;
    text-transform: uppercase;
  }
  .status{
    color: #4C5155;
    text-overflow: ellipsis;
    font-family: 'SF UI Text';
    font-size: 14px;
    font-weight: 500;
    line-height: 105.836%;
    text-transform: capitalize;
  }
  .insured-cont article{
    background: #B7E7DF;
  }
  .uninsured-cont article{
    background-color: #E2D8D8;
  }
  .destroyed-cont article{
    background: #C7DFE3;
  }
  .destroyed-cont article section svg rect{
    fill: #92B1B7;
  }
  .uninsured-cont article section svg rect{
    fill: #DF9797;
  }
</style>